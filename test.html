<script>
window.addEventListener("gamepadconnected", (e) => {
  const gp = navigator.getGamepads()[e.gamepad.index];
  console.log(`Gamepad connected at index ${gp.index}: ${gp.id} with ${gp.buttons.length} buttons, ${gp.axes.length} axes.`);

  gameLoop()
});

function gameLoop() {
    const [gp] = navigator.getGamepads();
  
    let a = 0;
    let b = 0;
    if (gp.axes[0] !== 0) {
      b -= gp.axes[0];
    } else if (gp.axes[1] !== 0) {
      a += gp.axes[1];
    } else if (gp.axes[2] !== 0) {
      b += gp.axes[2];
    } else if (gp.axes[3] !== 0) {
      a -= gp.axes[3];
    }
  
    console.log(a, b);
  
    const start = requestAnimationFrame(gameLoop);
};

</script>